{% extends 'blog/index.html' %}

{% block content %}

<div class="media-body">
    <div class="d-flex p-2 bg-secondary text-white">
        <small class="text-white"><b>Hastag: </b><a class=" text-white mr-2" href="#">{{object.hashtag}}</a></small>
        <small class="text-white"><b>Created by: </b><a class="text-white mr-2" href="#">{{object.created_by|capfirst}}</a></small>
        <small class="text-white"><b>Posted: </b><a class="text-white mr-2" href="#">{{object.painel_date_posted|date:'N d, Y H:i:s'}}</a></small>
    </div>
    <div class="p-2 mb-auto" style="height: 15px;"></div>
    {% for post in posts_by_hashtag %}
        <article class="media content-section"> 
            <img class='rounded mx-auto d-block article-img' src="{{ post.author.profile.image.url }}" alt="profile_img" style='width:75px; height:auto;'>
            <div class="media-body">
            <div class="article-metadata">
                <div class="d-flex p-2 bg-light text-dark">
                {% if post.author == user %}
                <small class="text-muted"><b>Author: </b><a class="mr-2" href="{% url 'user-posts' post.author.username %}">{{ post.author|capfirst }}</a></small>
                {% else %}
                    <small class="text-muted"><b>Author: </b><a class="mr-2" href="{% url 'user-posts' post.author.username %}">{{ post.author|capfirst }}</a></small>
                {% endif %}
                
                    <small class="text-muted"><b>Posted: </b> {{ post.date_posted|date:'N d, Y H:i:s' }}</small>
                    <small class="text-muted"><b>Last Updated: </b> {{ post.date_updated|date:'N d, Y H:i:s' }}</small>
               
            </div>
            <div class="ml-auto p-2">
                {% if post.author == user %}
                    <a class="btn btn-info btn-sm mt-0 mb-0" href="{% url 'post-update' post.id %}">Update</a>
                    <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'post-delete' post.id %}">Delete</a>
                {% endif %}
            </div>
            </div>
            <h2><a class="article-title" href="{{post.get_absolute_url}}">{{ post.title }}</a></h2>
            <p class="article-content">{{ post.content|linebreaks|truncatewords:20 }}</p>
            </div>
        </article>
    {% endfor %}
{% endblock content %}

{% extends 'blog/base.html' %}
{% load crispy_forms_tags %}

{% block content %}
    <div class="content-section">
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="boder-bottom mb-6">New Painel</legend>
                {{ painel_list.hashtag }}
                {{ form.hashtag|as_crispy_field }} 
            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-infor" type="submit">Save & Create Posts</button>
            </div>
        </form>
    </div>

<!-- Paginations -->
{% if is_paginated %}

{% if page_obj.has_previous %}<!-- Esse o objeto que nossa Views passa dentro do nosso template -->
    <a class="btn btn-outline-info mb-4" href="?page=1">First</a>
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
{% endif %}

{% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}<!-- page_obj.number e o numero atual da pagina -->
        <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
        <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
    {% endif %}

{% endfor %}

{% if page_obj.has_next %}<!-- Esse o objeto que nossa Views passa dentro do nosso template -->
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a> <!-- page_obj.pagintor.num_pages Retorna o numero total de paginas -->
{% endif %}

{% endif %}
{% endblock content %}